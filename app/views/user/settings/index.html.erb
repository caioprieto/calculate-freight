<h5 class="mt-3" href="/">
  <i class="bi bi-gear-wide-connected fs-4" style="margin-right: 8px; margin-left: 22px"></i>
  <span style="position: relative; top: -2px; font-size: 18px;">Configurações</span>
</h5>

<%= form_for(@user, url: user_registration_path(@user), method: :patch, local: true) do |f| %>
  <div class="d-flex" style="gap: 35px; max-height: 500px">
    <div class="card bg-white p-4 mt-3" style="margin-right: 10px; margin-left: 24px; width: 61%; border-radius: 5px">
      <div class="field mt-2">
        <%= f.label :nome, class: "form-label fw-light" %><br />
        <%= f.text_field :nome, autofocus: true, class: "form-control form-control-sm", style: "margin-top: -6px" %>
      </div>
      <div class="field mt-2">
        <%= f.label :sobrenome, class: "form-label fw-light" %><br />
        <%= f.text_field :sobrenome, autofocus: true, class: "form-control form-control-sm", style: "margin-top: -6px" %>
      </div>
      <div class="field mt-2">
        <%= f.label :cpf, "CPF", class: "form-label fw-light" %><br />
        <%= f.text_field :cpf, placeholder: '000.000.000-00', class: "form-control form-control-sm", disabled: true, style: "margin-top: -6px" %>
      </div>
      <div class="field mt-2">
        <%= f.label :email, class: "form-label fw-light" %><br />
        <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "form-control form-control-sm", disabled: true, style: "margin-top: -6px" %>
      </div>

      <br><hr>

      <div class="field mt-3">
        <label class="btn btn-escolher-foto fw-light p-2">
          <i style="margin-right: 5px;" class="bi bi-file-image-fill fs-4 me-1"></i>
          <span>
            <%= @user.imagem.attached? ? @user.imagem.filename.to_s.truncate(25) : "Escolher Foto de Perfil" %>
          </span>
          <%= f.file_field :imagem, style: "display: none;" %>
        </label>
      </div>

      <div class="field" style="margin-top: -15px">
        <%= button_tag type: 'submit', class: 'btn-dark btn-salvar-user fw-light p-2', style: 'margin-top: 30px;' do %>
          <i style="margin-right: 5px;" class="bi bi-floppy text-white fs-5"></i>
          <span>Salvar</span>
        <% end %>
      </div>
    </div>
    <div class="mt-3" style="width: 30%">
      <div class="card bg-white" style="width: 100%; height: 100%;">
        <% if @user.imagem.present? %>
          <%= image_tag @user.imagem.variant(resize_to_limit: [1000, 1000]).processed, class: "user-imagem" %>
        <% else %>
          <div class="d-flex justify-content-center align-items-center mt-5" style="height: 350px;">
            <i class="bi bi-file-image-fill text-dark" style="font-size: 10rem; color: #ccc;"></i>
          </div>
        <% end %>
      </div>
    </div>
<% end %>
