<div class="mt-3" style="margin-left: 20px">
  <h5 href="/">
    <i class="bi bi-book fs-5" style="margin-right: 8px"></i>
    <span style="position: relative; top: -1px; font-size: 16px;">Minhas Redações</span>
  </h5>
</div>

<div class="full-width-container d-flex flex-wrap mt-3" style="gap: 15px; width: 100%; margin-left: 17px;">
  <% @user_words.each do |user_word| %>
    <div class="d-flex flex-column align-items-center" style="flex: 1 1 22%; max-width: 23.1%; min-width: 200px; border-radius: 10px">
      <a href="/user/words/<%= user_word.word_id %>/proposta" class="redacoes-card bg-white d-flex flex-column align-items-center text-dark" style="width: 100%; text-decoration: none;">
        <div class="meus-cursos-img position-relative" style="width: 100%; border-radius: 10px">
          <% if user_word.word.imagem.attached? %>
            <%# Não vai deixar bordas laterais %>
            <% if user_word.word.image_type == "cover" %>
              <%= image_tag user_word.word.imagem, style: "max-height: 170px; max-width: 100%; object-fit: cover;" %>
            <% end %>

            <%# Com bordas laterais %>
            <% if user_word.word.image_type == "scaledown" %>
              <%= image_tag user_word.word.imagem, style: "max-height: 170px; max-width: 100%; object-fit: scale-down;" %>
            <% end %>
          <% end %>
          <div class="position-absolute top-50 start-50 translate-middle d-flex justify-content-center align-items-center rounded-circle bg-dark" style="width: 40px; height: 40px;">
            <i class="bi bi-pencil-square text-white fs-5" style="margin-right: 1px; margin-top: -3px;"></i>
          </div>
        </div>
        <div class="w-100" style="padding: 0 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); border-radius: 10px">
          <% if user_word.concluido %>
            <div class="d-flex" style="margin-top: 6px;">
              <i class="bi bi-send-check fs-6 text-success"></i>
              <strong class="text-success" style="font-size: 12px; margin-left: 6px; margin-top: 2px; font-weight: 600">Redação enviada para correção</strong>
            </div>
          <% else %>
            <div class="d-flex" style="margin-top: 6px;">
              <i class="bi bi-exclamation-triangle fs-6 text-danger"></i>
              <strong class="text-danger" style="font-size: 12px; margin-left: 6px; margin-top: 3px; font-weight: 600">Redação pendente</strong>
            </div>
          <% end %>
          <h6 class="text-dark" style="font-size: 14px; margin-top: 3px;"><%= user_word.word.tema %></h6>
        </div>
      </a>
    </div>
  <% end %>

  <% (8 - @user_words.size).times do %>
    <div class="d-flex flex-column align-items-center" style="flex: 1 1 22%; max-width: 23.1%; min-width: 200px; border-radius: 10px; opacity: 80%;">
      <a class="redacoes-card bg-white d-flex flex-column align-items-center text-dark" style="width: 100%; text-decoration: none;">
        <div class="meus-cursos-img position-relative" style="width: 100%; border-radius: 10px">
          <img src="/images/fundo-cinza.jpg" alt="Login image" class="w-100"  style="object-fit: cover; width: 100%" />
          <div class="position-absolute top-50 start-50 translate-middle d-flex justify-content-center align-items-center rounded-circle bg-dark" style="width: 40px; height: 40px;">
            <i class="bi bi-ban text-white fs-5" style="margin-top: -2px; margin-right: 1px;"></i>
          </div>
        </div>
        <div class="w-100" style="padding: 0 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); border-radius: 10px">
          <h6 class="text-dark mt-2 mb-2">Vazio</h6>
          <div class="progress" style="height: 8px;">
            <div class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
          <small class="text-muted d-block mb-2">0% concluído</small>
        </div>
      </a>
    </div>
  <% end %>
</div>
